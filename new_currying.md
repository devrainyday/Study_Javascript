# [Planbs - Currying](https://planbs.tistory.com/entry/Currying)
> **Currying**은 n개의 인자를 가진 함수를 단일 인자를 가진 n개의 함수 체인으로 만드는 것이다.

`a(x, y, z)`를 `a(x), b(y), c(z)`로 분리하는 것이다. 일반적으로 커링은 함수를 반환하는 함수 형태로 구현한다. 따라서 High-Order Function을 지원하는 언어(ex. Javascript, Python)가 커링을 구현하기 편하다.

```javascript
function sum(a, b) {
  return a + b;
}

console.log(sum(10, 100)); // 110
```

```javascript
function sum(a) {
  return function(b) {
    return a + b;
  }
}

console.log(sum(10)(100));
```

첫 번째 예제는 두 개의 인자를 한 번에 받아서 그 합을 반환하고, 아래 함수는 한 개의 인자를 받아서 남은 인자 하나가 채워지면 합을 반환하는 새로운 함수를 반환한다. 따라서 두 함수는 각각 다르게 호출된다.

만약 인자 a에 대한 연산 비용이 비싸고, 인자 b에 채울 값이 지금 당장 없다면 인자 b에 값을 넘기는 과정을 유보할 수 있기 때문에 그런 경우에는 커링이 유용한다.

하지만 작성자는 함수의 특정 인자에 한정되어 계산 비용이 비싼 경우는 없었기에 이런 상황이 그리 많지 않았고, 따라서 메모이제이션으로 충분히 처리할 수 있는 경우가 더 많았다고 한다.

인자 a, b 간의 양방향 의존성이 있다면 커링을 적용하기 어렵다. 단방향 의존이라면 의존하는 인자를 먼저 받아서 로직을 일부 처리하고 인자 a가 채워질 때 클로저로 인자 b에 접근해서 나머지 로직을 처리하면 되는데, 애초에 두 인자가 같이 필요한 로직 뿐이라면 a와 b가 모두 채워졌을 때 로직을 수행하게 한다.

이에 더해 인자 a, b 간의 양방향 의존성이 있다면 currying을 적용하기 더 어렵다. 단지 인자 a가 인자 b에 단방향 의존한다면, 인자 b를 먼저 받아 로직을 일부 처리하고 인자 a가 채워질 때 클로저로 인자 b에 접근해 나머지 로직을 처리하면 된다. 그러나 애초에 두 인자가 같이 필요한 로직 뿐이라면 currying의 중간에 인자 여러 개를 받는 함수를 끼워두거나 애초에 a와 b 인자 모두가 채워졌을 때 로직을 수행하는 등의 방식으로 해결한다. 

# [자바스크립트 커링(Currying)패턴과 생각](https://project42da.github.io/javascript/2019/02/06/js-curry.html)

커링 패턴은 함수가 한 번에 모든 인자를 받지 않아도 되도록 만드는 패턴을 말한다.

> 커링이라는 말은 수학자 하스켈 커리(Haskell Curry)의 이름에서 유래

```javascript
// ES6 문법
const sum = x => y => x + y;
console.log(sum(10)(100)); // 110
```

```javascript
// ES5 문법
function sum(x) {
  return function(y) {
    return x + y;
  }
}

const sumFirst = sum(10);
console.log(sumFirst(100)); // 110
```

sum 함수가 반환하는 함수에서 x를 참조할 수 있도록 sum 함수의 호출이 끝나도 스코프가 유지되는 클로저를 사용한 패턴이다.

# [Currying in Javascript](https://dev-momo.tistory.com/entry/Currying-in-Javascript)

## Currying의 정의
> 수학과 컴퓨터 과학에서 커링이란 다중 인수 (혹은 여러 인수의 튜플)을 갖는 함수를 단일 인수를 갖는 함수들의 함수열로 바꾸는 것을 말한다. 모지즈 쇤핑클에 의해 도입되었고, 이후 하스켈 커리에 의해 발전하였다.

여러개의 인자를 갖는 함수는 단일 인자를 갖는 함수들의 연결로 바꾸는 것을 의미한다.

ES2015(ES6)에 추가된 화살표 함수 문법을 이용하면 좀 더 간결하고 쉽게 표현 가능하다. 또한 Javascript에서 함수가 1급 시민인 만큼 변수에 담아서 사용할 수도 있다.

# [[번역] 초보자를 위한 함수형 자바스크립트 Currying 가이드](https://sujinlee.me/currying-in-functional-javascript/)

함수형 자바스크립트의 강점은 코드를 짧고 간결하게, 반복을 최소화하여 구현한다는 것이다. 함수형 프로그래밍이 익숙하지 않다면 이해하기 어려울 수도 있다.

## Currying 함수 만들기

커링은 어떤 함수를 호출할 때 대부분의 매개 변수가 항상 비슷할 때, 유용하게 쓸 수 있다. 매개변수 일부를 적용하여 새로운 함수를 동적으로 생성하면 이 동적 생성된 함수는 반복적으로 사용되는 매개변수를 내부적으로 저장한다. 따라서 매번 인자를 전달하지 않아도 원본 함수가 기대하는 기능을 사용할 수 있다.

하지만 커링 함수를 만들 때 함수를 중첩하고, `()`로 인자를 분리하여 새 함수를 호출할 수 있게 만들어야 하므로 코드가 지저분해진다.

따라서 함수의 이름과 인자만으로 사용할 수 있는 커링 함수를 만드는 게 좋다. 커링 함수는 사용되는 함수의 인자 목록을 추출하여 원본 함수에 커링한다 (그런데 예제가 `Array.prototype`으로 점철돼있어서 따로 안봄).

## Currying 함수 인자 순서
커링 함수에서 인자의 순서는 중요하다. 앞에 있는 인자일수록 변동가능성이 적고, 뒤에 있는 인자일수록 변동가능성이 높다. 때문에 인자 순서를 고려하며 코드를 설계해야 한다.

## 결론
> Currying은 함수형 자바스크립트에서 매우 유용한 기술이다. 일관성있고 사용하기 쉬운 코드는 이해도도 높기 때문에 커링함수로 작은 라이브러리도 구현해 볼 수 있다. 전체 코드에 currying을 도입함으로 함수 인자 네이밍과 처리하는 방법에 많은 도움이 될 것이다.